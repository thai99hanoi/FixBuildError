import 'package:heath_care/socket/websocket.dart';

class ChatService {
  // TODO: Maybe messages array should just live in the service? decide on design
  Websocket? websocket;

  ChatService(String url) {
    websocket = Websocket(url);
  }

  void startService(void onMessageReceived(dynamic message)) {
    // TODO: Error handling, for now it will crash and burn
    websocket!.listenForMessages(onMessageReceived);
  }

  void sendMessage(String message) {
    websocket!.sendMessage(message);
  }
}